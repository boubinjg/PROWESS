{"ast":null,"code":"var _jsxFileName = \"/home/jayson/Code/IoTLabScratchpad/IoTLabScheduler/Frontend/src/components/Delete.js\";\nimport React, { Component } from 'react';\nimport Scheduler from '../components/Scheduler';\nimport 'react-dates/initialize';\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport { DateRangePicker, SingleDatePicker, DayPickerRangeController } from 'react-dates';\nimport 'react-dates/lib/css/_datepicker.css';\nimport 'antd/dist/antd.css';\nimport { TimePicker } from 'antd';\nimport momentPropTypes from 'react-moment-proptypes';\nimport PropTypes from 'prop-types';\nimport { Table, Form, FormGroup, Checkbox, Col, Button, Navbar, Nav, NavDropdown, FormControl } from \"react-bootstrap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../App.css';\nimport $ from 'jquery';\nimport { saveAs } from 'file-saver';\nimport * as JSZip from 'jszip';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst data = [{\n  start_date: '2021-03-17 6:00',\n  end_date: '2021-03-17 8:00',\n  text: 'Event 1',\n  id: 1\n}, {\n  start_date: '2021-03-19 10:00',\n  end_date: '2021-03-19 18:00',\n  text: 'Event 2',\n  id: 2\n}];\n\nconst util = require('util');\n\nclass Delete extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: 'default',\n      startdate: null,\n      enddate: null,\n      starttime: moment('00:00:00', 'HH:mm:ss').format('HH:mm:ss'),\n      endtime: moment('00:00:00', 'HH:mm:ss').format('HH:mm:ss'),\n      focusedEnd: false,\n      container: null,\n      allMics: false,\n      mic1: false,\n      mic2: false,\n      mic3: false,\n      cam1: false,\n      cam2: false,\n      cam3: false,\n      allCams: false,\n      allSens: false,\n      sdr: false,\n      gpu: false,\n      test: 'test',\n      expdescription: '',\n      id: 0,\n      calendarData: [],\n      myExps: [],\n      currentIds: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.fetch = this.fetch.bind(this);\n    this.fetchMyExps = this.fetchMyExps.bind(this);\n  }\n\n  handleChange(time, variable) {\n    if (variable == 'starttime') this.setState({\n      starttime: time.format('HH:mm:ss')\n    });else if (variable == 'endtime') this.setState({\n      endtime: time.format('HH:mm:ss')\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    var jsondata = {\n      user: this.state.user,\n      container: this.state.container,\n      StartDate: this.state.startdate.format('YYYY-MM-DD'),\n      endDate: this.state.enddate.format('YYYY-MM-DD'),\n      starttime: this.state.starttime,\n      endtime: this.state.endtime,\n      description: this.state.expdescription,\n      all_sensors: this.state.allSens,\n      all_mics: this.state.allMics,\n      mic1: this.state.mic1,\n      mic2: this.state.mic2,\n      mic3: this.state.mic3,\n      all_cams: this.state.allCams,\n      cam1: this.state.mic1,\n      cam2: this.state.mic2,\n      cam3: this.state.mic3,\n      gpu: this.state.gpu,\n      sdr: this.state.sdr\n    };\n    console.log(jsondata);\n    var expStart = this.state.startdate.format('YYYY-MM-DD');\n    var expStartTime = this.state.starttime;\n    var expEnd = this.state.enddate.format('YYYY-MM-DD');\n    var expEndTime = this.state.endtime;\n    var text = this.state.container + '\\n' + this.state.expdescription;\n    var newExp = {\n      start_date: expStart + ' ' + expStartTime,\n      end_date: expEnd + ' ' + expEndTime,\n      text: text,\n      id: this.state.id\n    };\n    console.log(jsondata.endDate); //this.setState({calendarData: this.state.calendarData.concat(newExp)})\n    //this.setState({id: this.state.id+1})\n\n    $.ajax({\n      url: 'https://iot.lab.tdai.osu.edu:3001/post',\n      type: 'POST',\n      data: jsondata,\n      success: function (msg) {\n        console.log(msg);\n      },\n      error: function (request, status, error) {\n        alert(request.responseText);\n      }\n    });\n    this.fetch();\n  }\n\n  fetchShib() {\n    var context = this;\n    fetch('https://iot.lab.tdai.osu.edu/Shibboleth.sso/Session').then(response => response.json()).then(jsonData => {\n      console.log(jsonData);\n      console.log('$$$$$$$$$$$$$$$$$$$');\n      const UID = jsonData.attributes[4].values[0].split('@')[0];\n      console.log(jsonData.attributes[4].values[0].split('@')[0]);\n      console.log(UID);\n      this.setState({\n        user: UID\n      });\n      console.log('User');\n      console.log(this.state.user);\n      console.log('$$$$$$$$$$$$$$$$$$$');\n      this.fetchMyExps();\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  fetchMyExps() {\n    var context = this;\n    var jsondata = {\n      user: this.state.user\n    };\n    $.ajax({\n      url: 'https://iot.lab.tdai.osu.edu:3001/postExps',\n      type: 'POST',\n      data: jsondata,\n      success: function (response) {\n        context.setState({\n          myExps: response.message\n        });\n        console.log(util.inspect(response));\n      }\n    });\n  }\n\n  fetch() {\n    var context = this;\n    $.ajax({\n      url: 'https://iot.lab.tdai.osu.edu:3001/api',\n      method: 'GET',\n      data: data,\n      success: function (response) {\n        context.setState({\n          calendarData: response.message\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    console.log('Mounting!');\n    this.fetch();\n    this.fetchShib();\n    this.fetchMyExps();\n  }\n\n  handleButtonInput(e) {\n    console.log(e.target.value);\n    var context = this;\n    var data = {\n      user: this.state.user,\n      idx: e.target.value\n    };\n    console.log(data);\n    $.ajax({\n      url: 'https://iot.lab.tdai.osu.edu:3001/postDel',\n      method: 'post',\n      data: data,\n      success: function (response) {}\n    });\n    this.fetch();\n    this.fetchMyExps();\n  }\n\n  handleDownload(e) {\n    console.log(e.target.value);\n    var context = this;\n    var user = this.state.user;\n    var idx = e.target.value;\n    console.log(data);\n    window.open('https://iot.lab.tdai.osu.edu:3001/download?user=' + user + '&idx=' + idx);\n    this.fetch();\n    this.fetchMyExps();\n  }\n\n  myExperiments() {\n    console.log('MyExps: ');\n    console.log(util.inspect(this.state.myExps));\n    var list = [];\n    const self = this;\n\n    for (var i = 0; i < this.state.myExps.length; i++) {\n      var exp = this.state.myExps[i];\n      var label = 'Container: ' + exp.container + ' ';\n      var idx = exp.id;\n      this.state.currentIds.push(idx);\n      var buttonVar = \"primary\";\n      if (exp.status.substring(0, 5) == 'error') buttonVar = \"danger\";\n      var bv = \"\";\n\n      if (exp.status.substring(0, 8) == 'Complete') {\n        var bv = /*#__PURE__*/_jsxDEV(Button, {\n          value: idx,\n          variant: buttonVar,\n          type: \"submit\",\n          onClick: e => this.handleDownload(e, \"value\"),\n          children: \"Download Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 17\n        }, this);\n      }\n\n      var listItem = /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: exp.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: exp.container\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: exp.start_date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: exp.end_date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [exp.status, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 24\n          }, this), \" \", bv, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            value: idx,\n            variant: buttonVar,\n            type: \"submit\",\n            onClick: e => this.handleButtonInput(e, \"value\"),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this);\n\n      list.push(listItem);\n    }\n\n    console.log('CURRENT IDS:');\n    console.log(this.state.currentIds);\n    return list;\n  }\n\n  render() {\n    const exps = this.myExperiments();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        className: \"color-nav\",\n        expand: \"xl\",\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          href: \"#home\",\n          children: \"Pomerene Lab IoT Testbed Experiment Scheduler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n          \"aria-controls\": \"basic-navbar-nav\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          id: \"basic-navbar-nav\",\n          children: /*#__PURE__*/_jsxDEV(Nav, {\n            className: \"mr-auto\",\n            children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/\",\n              children: \"Schedule a New Experiment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/Delete\",\n              children: \"View My Scheduled Experiments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"conatainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-xl\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"View My Scheduled Experiments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              striped: true,\n              bordered: true,\n              hover: true,\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Experiment ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Container\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Start Time\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"End Time\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 8\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: exps\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scheduler-container\",\n            children: /*#__PURE__*/_jsxDEV(Scheduler, {\n              events: this.state.calendarData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Delete;","map":{"version":3,"sources":["/home/jayson/Code/IoTLabScratchpad/IoTLabScheduler/Frontend/src/components/Delete.js"],"names":["React","Component","Scheduler","DatePicker","moment","DateRangePicker","SingleDatePicker","DayPickerRangeController","TimePicker","momentPropTypes","PropTypes","Table","Form","FormGroup","Checkbox","Col","Button","Navbar","Nav","NavDropdown","FormControl","$","saveAs","JSZip","data","start_date","end_date","text","id","util","require","Delete","constructor","props","state","user","startdate","enddate","starttime","format","endtime","focusedEnd","container","allMics","mic1","mic2","mic3","cam1","cam2","cam3","allCams","allSens","sdr","gpu","test","expdescription","calendarData","myExps","currentIds","handleSubmit","bind","handleChange","fetch","fetchMyExps","time","variable","setState","event","preventDefault","jsondata","StartDate","endDate","description","all_sensors","all_mics","all_cams","console","log","expStart","expStartTime","expEnd","expEndTime","newExp","ajax","url","type","success","msg","error","request","status","alert","responseText","fetchShib","context","then","response","json","jsonData","UID","attributes","values","split","catch","message","inspect","method","componentDidMount","handleButtonInput","e","target","value","idx","handleDownload","window","open","myExperiments","list","self","i","length","exp","label","push","buttonVar","substring","bv","listItem","render","exps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Scheduler from '../components/Scheduler';\nimport 'react-dates/initialize';\nimport DatePicker from \"react-datepicker\"\nimport moment from \"moment\"\nimport { DateRangePicker, SingleDatePicker, DayPickerRangeController } from 'react-dates';\nimport 'react-dates/lib/css/_datepicker.css';\nimport 'antd/dist/antd.css'\nimport { TimePicker } from 'antd'\nimport momentPropTypes from 'react-moment-proptypes'\nimport PropTypes from 'prop-types'\nimport {Table, Form, FormGroup, Checkbox, Col, Button, Navbar, Nav, NavDropdown,FormControl} from \"react-bootstrap\"\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport '../App.css';\nimport $ from 'jquery';\nimport { saveAs } from 'file-saver'\nimport * as JSZip from 'jszip'\n\nconst data = [\n    { start_date:'2021-03-17 6:00', end_date:'2021-03-17 8:00', text:'Event 1', id: 1 },\n    { start_date:'2021-03-19 10:00', end_date:'2021-03-19 18:00', text:'Event 2', id: 2 }\n];\n\nconst util = require('util')\n\nclass Delete extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n                        user: 'default',\n                        startdate: null,\n                        enddate:  null,\n                        starttime: moment('00:00:00', 'HH:mm:ss').format('HH:mm:ss'),\n                        endtime:  moment('00:00:00', 'HH:mm:ss').format('HH:mm:ss'),\n                        focusedEnd: false,\n                        container: null,\n                        allMics: false,\n                        mic1: false,\n                        mic2: false,\n                        mic3: false,\n                        cam1: false,\n                        cam2: false,\n                        cam3: false,\n                        allCams: false,\n                        allSens: false,\n                        sdr: false,\n                        gpu: false,\n                        test: 'test',\n                        expdescription: '',\n                        id: 0,\n                        calendarData: [],\n                        myExps: [],\n                        currentIds: []\n                    };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.fetch = this.fetch.bind(this);\n        this.fetchMyExps = this.fetchMyExps.bind(this);\n    }\n    handleChange(time, variable){\n        if(variable == 'starttime')\n            this.setState({starttime: time.format('HH:mm:ss')})\n        else if(variable == 'endtime')\n            this.setState({endtime: time.format('HH:mm:ss')})\n    }\n    handleSubmit(event){\n        event.preventDefault();\n        var jsondata = {user: this.state.user,\n                    container: this.state.container,\n                    StartDate: this.state.startdate.format('YYYY-MM-DD'),\n                    endDate: this.state.enddate.format('YYYY-MM-DD'),\n                    starttime: this.state.starttime,\n                    endtime: this.state.endtime,\n                    description: this.state.expdescription,\n                    all_sensors: this.state.allSens,\n                    all_mics: this.state.allMics,\n                    mic1: this.state.mic1,\n                    mic2: this.state.mic2,\n                    mic3: this.state.mic3,\n                    all_cams: this.state.allCams,\n                    cam1: this.state.mic1,\n                    cam2: this.state.mic2,\n                    cam3: this.state.mic3,\n                    gpu: this.state.gpu,\n                    sdr: this.state.sdr\n                }\n\n        console.log(jsondata)\n\n        var expStart = this.state.startdate.format('YYYY-MM-DD')\n        var expStartTime = this.state.starttime\n        var expEnd = this.state.enddate.format('YYYY-MM-DD')\n        var expEndTime = this.state.endtime\n        var text = this.state.container + '\\n' + this.state.expdescription\n        var newExp = {start_date: expStart +' '+ expStartTime, end_date: expEnd+' '+expEndTime,text: text, id: this.state.id}\n\n        console.log(jsondata.endDate)\n\n        //this.setState({calendarData: this.state.calendarData.concat(newExp)})\n        //this.setState({id: this.state.id+1})\n\n        $.ajax({\n            url: 'https://iot.lab.tdai.osu.edu:3001/post',\n            type: 'POST',\n            data: jsondata,\n            success: function(msg) {\n                console.log(msg);\n            },\n            error: function(request, status, error){\n                    alert(request.responseText);\n            }\n        });\n        this.fetch()\n    }\n    fetchShib() {\n    \tvar context = this;\n\tfetch('https://iot.lab.tdai.osu.edu/Shibboleth.sso/Session')\n  \t\t.then(response => response.json())\n  \t\t.then((jsonData) => {\n    \t     \t\tconsole.log(jsonData)\n\t\t\tconsole.log('$$$$$$$$$$$$$$$$$$$')\n                        const UID = jsonData.attributes[4].values[0].split('@')[0]\n\t\t\tconsole.log(jsonData.attributes[4].values[0].split('@')[0])\n\t\t\tconsole.log(UID)\n\t\t\tthis.setState({ user: UID})\n\t\t\tconsole.log('User')\n\t\t\tconsole.log(this.state.user)\n\t\t\tconsole.log('$$$$$$$$$$$$$$$$$$$')\n\t\t\tthis.fetchMyExps()\n   \t\t})\n               .catch((error) => {\n                 console.error(error)\n               })\n    }\n\n    fetchMyExps() {\n        var context = this;\n        var jsondata = {user: this.state.user}\n\n        $.ajax({\n            url: 'https://iot.lab.tdai.osu.edu:3001/postExps',\n            type: 'POST',\n            data: jsondata,\n            success: function(response) {\n                context.setState({\n                    myExps: response.message\n                });\n                console.log(util.inspect(response))\n            }\n        });\n    }\n    fetch() {\n        var context = this;\n\n        $.ajax({\n            url: 'https://iot.lab.tdai.osu.edu:3001/api',\n            method: 'GET',\n            data: data,\n            success: function(response) {\n                context.setState({\n                    calendarData: response.message\n                });\n            }\n        });\n    }\n    componentDidMount(){\n        console.log('Mounting!')\n        this.fetch();\n\tthis.fetchShib();\n        this.fetchMyExps();\n    }\n    handleButtonInput(e) {\n        console.log(e.target.value)\n        var context = this\n        var data = {user: this.state.user, idx: e.target.value}\n        console.log(data)\n        $.ajax({\n            url: 'https://iot.lab.tdai.osu.edu:3001/postDel',\n            method: 'post',\n            data: data,\n            success: function(response) {\n            }\n        });\n        this.fetch();\n        this.fetchMyExps();\n    }\n    handleDownload(e) {\n        console.log(e.target.value)\n        var context = this;\n        var user = this.state.user;\n\tvar idx = e.target.value;\n        console.log(data)\n       \n\twindow.open('https://iot.lab.tdai.osu.edu:3001/download?user='+user+'&idx='+idx)\n\t\n\n        this.fetch();\n        this.fetchMyExps();\n    }\n\n    myExperiments(){\n        console.log('MyExps: ')\n        console.log(util.inspect(this.state.myExps))\n        var list = []\n        const self = this;\n        for(var i=0; i<this.state.myExps.length; i++){\n            var exp = this.state.myExps[i]\n            var label = 'Container: '+exp.container+' '\n            var idx = exp.id\n            this.state.currentIds.push(idx)\n            var buttonVar = \"primary\"\n\t    if(exp.status.substring(0,5) == 'error')\n\t        buttonVar = \"danger\"\n\t    var bv = \"\"\n\t    if(exp.status.substring(0,8) == 'Complete') {\t\n\t    \n\t    \tvar bv =  <Button value={idx} variant={buttonVar} type=\"submit\" onClick={e => this.handleDownload(e, \"value\")} >\n                            Download Results\n                        </Button>\n\t    } \n\t    var listItem =\n                <tr>\n                    <td>{exp.id}</td>\n                    <td>{exp.container}</td>\n                    <td>{exp.start_date}</td>\n                    <td>{exp.end_date}</td>\n\t\t    <td>{exp.status} <br/> {bv} </td>\n                    <td>\n                        <Button value={idx} variant={buttonVar} type=\"submit\" onClick={e => this.handleButtonInput(e, \"value\")} >\n                            Delete\n                        </Button>\n                    </td>\n                </tr>\n            list.push(listItem)\n        }\n        console.log('CURRENT IDS:')\n        console.log(this.state.currentIds)\n        return list\n    }\n    render() {\n        const exps = this.myExperiments()\n\n        return (\n            <div>\n                <Navbar className=\"color-nav\" expand='xl'>\n                  <Navbar.Brand href=\"#home\">Pomerene Lab IoT Testbed Experiment Scheduler</Navbar.Brand>\n                  <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                  <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"mr-auto\">\n                      <Nav.Link href=\"/\">Schedule a New Experiment</Nav.Link>\n                      <Nav.Link href=\"/Delete\">View My Scheduled Experiments</Nav.Link>\n                    </Nav>\n                 </Navbar.Collapse>\n                </Navbar>\n\n                <div class=\"conatainer\">\n                <div class='row'>\n                <div class='col-xl'>\n                <div>\n                    <h1>View My Scheduled Experiments</h1>\n                </div>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>Experiment ID</th>\n                            <th>Container</th>\n                            <th>Start Time</th>\n                            <th>End Time</th>\n\t\t\t    <th>Status</th>\n                            <th>Delete</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {exps}\n                    </tbody>\n                </Table>\n                </div>\n                </div>\n                <div class=\"row\">\n                <div className='scheduler-container'>\n                    <Scheduler events={this.state.calendarData}/>\n                </div>\n                </div>\n                </div>\n            </div>\n        );\n    }\n }\n export default Delete;\n"]},"metadata":{},"sourceType":"module"}