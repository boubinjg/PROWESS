{"ast":null,"code":"var _jsxFileName = \"/home/jayson/Code/IoTLabScratchpad/IoTLabScheduler/Frontend/src/components/App.js\";\nimport React, { Component, Fragment } from 'react';\nimport Scheduler from '../components/Scheduler';\nimport 'react-dates/initialize';\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport { DateRangePicker, SingleDatePicker, DayPickerRangeController } from 'react-dates';\nimport 'react-dates/lib/css/_datepicker.css';\nimport 'antd/dist/antd.css';\nimport { TimePicker } from 'antd';\nimport momentPropTypes from 'react-moment-proptypes';\nimport PropTypes from 'prop-types';\nimport { Form, FormGroup, Checkbox, Col, Button, Navbar, Nav, NavDropdown, FormControl } from \"react-bootstrap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../App.css';\nimport $ from 'jquery';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst data = [{\n  start_date: '2021-03-17 6:00',\n  end_date: '2021-03-17 8:00',\n  text: 'Event 1',\n  id: 1\n}, {\n  start_date: '2021-03-19 10:00',\n  end_date: '2021-03-19 18:00',\n  text: 'Event 2',\n  id: 2\n}];\nconst testdata = [{\n  start_date: \"2021-03-19 04:04:00\",\n  end_date: \"2021-03-19 05:05:00\",\n  text: \"test\",\n  id: 1\n}];\n\nconst util = require('util');\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: 'default',\n      startdate: null,\n      enddate: null,\n      starttime: moment('00:00:00', 'HH:mm:ss').format('HH:mm:ss'),\n      endtime: moment('00:00:00', 'HH:mm:ss').format('HH:mm:ss'),\n      focusedEnd: false,\n      container: [\"\"],\n      containerYAML: [\"\"],\n      volume: [\"\"],\n      test: 'test',\n      expdescription: '',\n      id: 0,\n      calendarData: [],\n      testbedData: [],\n      message: 'testtest',\n      status: 'Submitted',\n      containers: 1,\n      volumes: 1,\n      containersYaml: 1,\n      testbedSelect: 'none',\n      ram: '1',\n      cpu: '0.5',\n      sensors: [],\n      hardware: [],\n      tbRam: null,\n      tbCpu: null,\n      tbSensors: [],\n      tbHardwre: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.fetch = this.fetch.bind(this);\n  }\n\n  handleChange(time, variable) {\n    if (variable == 'starttime') try {\n      this.setState({\n        starttime: time.format('HH:mm:ss')\n      });\n    } catch (e) {\n      this.setState({\n        starttime: null\n      });\n    } else if (variable == 'endtime') try {\n      this.setState({\n        endtime: time.format('HH:mm:ss')\n      });\n    } catch (e) {\n      this.setState({\n        endtime: null\n      });\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    var jsondata = {\n      user: this.state.user,\n      container: this.state.container,\n      containerYAML: this.state.containerYAML,\n      volume: this.state.volume,\n      StartDate: this.state.startdate.format('YYYY-MM-DD'),\n      endDate: this.state.enddate.format('YYYY-MM-DD'),\n      starttime: this.state.starttime,\n      endtime: this.state.endtime,\n      description: this.state.expdescription,\n      testbed: this.state.testbedSelect,\n      ram: this.state.ram,\n      cpu: this.state.cpu,\n      sensors: this.state.sensors,\n      hardware: this.state.hardware,\n      status: this.state.status\n    };\n    console.log(jsondata);\n    var expStart = this.state.startdate.format('YYYY-MM-DD');\n    var expStartTime = this.state.starttime;\n    var expEnd = this.state.enddate.format('YYYY-MM-DD');\n    var expEndTime = this.state.endtime;\n    var text = this.state.container + '\\n' + this.state.expdescription;\n    var newExp = {\n      start_date: expStart + ' ' + expStartTime,\n      end_date: expEnd + ' ' + expEndTime,\n      text: text,\n      id: this.state.id\n    };\n    console.log(jsondata.endDate); //this.setState({calendarData: this.state.calendarData.concat(newExp)})\n    //this.setState({id: this.state.id+1})\n\n    var context = this;\n    $.ajax({\n      url: 'https://iot.lab.tdai.osu.edu:3001/post',\n      type: 'POST',\n      data: jsondata,\n      success: function (msg) {\n        var text = 'Experiment Successfully Scheduled from ' + context.state.startdate.format('YYYY-MM-DD') + ' ' + context.state.starttime + ' to ' + context.state.enddate.format('YYYY-MM-DD') + ' ' + context.state.endtime;\n        alert(text);\n        console.log(msg);\n      },\n      error: function (request, status, error) {\n        alert(request.responseText);\n      }\n    });\n    this.fetch();\n  }\n\n  fetch() {\n    var context = this;\n    $.ajax({\n      url: 'https://iot.lab.tdai.osu.edu:3001/api',\n      method: 'GET',\n      data: data,\n      success: function (response) {\n        var resp = response.message;\n        console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');\n\n        for (var key in response.message) {\n          console.log(context.state.testbedData); //console.log(context.state.testbedData.length)\n\n          var tb = response.message[key].testbed;\n\n          for (var i = 0; i < context.state.testbedData.length; ++i) {\n            var tbData = context.state.testbedData[i];\n\n            if (tbData.name == response.message[key].testbed) {\n              console.log('hit');\n              response.message[key].color = '#' + tbData.eventcolor;\n            }\n          }\n        }\n\n        console.log(response.message[key]);\n        context.setState({\n          calendarData: response.message\n        });\n      }\n    });\n  }\n\n  fetchShib() {\n    fetch('https://iot.lab.tdai.osu.edu/Shibboleth.sso/Session').then(response => response.json()).then(jsonData => {\n      // jsonData is parsed json object received from url\n      console.log(jsonData);\n      console.log('$$$$$$$$$$$$$$$$$$$');\n      const UID = jsonData.attributes[4].values[0].split('@')[0];\n      console.log(jsonData.attributes[4].values[0].split('@')[0]);\n      console.log(UID);\n      this.setState({\n        user: UID\n      });\n      console.log('User');\n      console.log(this.state.user);\n      console.log('$$$$$$$$$$$$$$$$$$$');\n    }).catch(error => {\n      // handle your errors here\n      console.error(error);\n    });\n  }\n\n  fetchTBs() {\n    console.log('###################');\n    var context = this;\n    $.ajax({\n      url: 'https://iot.lab.tdai.osu.edu:3001/testbeds',\n      method: 'GET',\n      data: data,\n      success: function (response) {\n        context.setState({\n          testbedData: response.message\n        });\n        console.log('TB Response:');\n        console.log(response.message);\n        context.fetch();\n      }\n    });\n  }\n\n  fetchTBRes(name) {\n    console.log('FETCH TB Results');\n    var context = this;\n    $.ajax({\n      url: 'https://iot.lab.tdai.osu.edu:3001/testbedres?name=' + name,\n      method: 'GET',\n      data: data,\n      success: function (response) {\n        context.setState({\n          testbedRes: response.message\n        });\n        console.log(context.state.testbedSelect);\n        console.log('TB Response:');\n        console.log(response.message);\n        console.log(response.message[0]);\n        context.setState({\n          ram: 0\n        });\n        context.setState({\n          cpu: 0\n        });\n        context.setState({\n          tbRam: response.message[0]\n        });\n        context.setState({\n          tbCpu: response.message[1]\n        });\n        var sensors = response.message[2];\n        if (sensors == 'None') context.setState({\n          tbSensors: null\n        });else {\n          try {\n            const result = response.message[2].split('+');\n            context.setState({\n              tbSensors: result\n            });\n            console.log(result);\n          } catch (exception) {\n            console.log('Sensor Parsing Error');\n          }\n        }\n        var hardware = response.message[3];\n        if (hardware == 'None') context.setState({\n          tbHardware: null\n        });else {\n          try {\n            const result = response.message[3].split('+');\n            context.setState({\n              tbHardware: result\n            });\n            console.log(result);\n          } catch (exception) {\n            console.log('Hardware Parsing Error');\n          }\n        }\n        var ret = [];\n\n        if (context.state.tbSensors != null) {\n          for (var i = 0; i < context.state.tbSensors.length; i++) {\n            ret.push(false);\n          }\n\n          context.setState({\n            sensors: ret\n          });\n        }\n\n        ret = [];\n\n        if (context.state.tbHardware != null) {\n          for (var i = 0; i < context.state.tbHardware.length; i++) {\n            ret.push(false);\n          }\n\n          context.setState({\n            hardware: ret\n          });\n        }\n      }\n    });\n  }\n\n  componentDidMount() {\n    console.log('Mounting!');\n    this.fetchTBs();\n    this.fetch();\n    this.fetchShib();\n    this.fetchTBRes();\n  }\n\n  buttonAdd() {\n    if (this.state.containers < 20) {\n      this.setState({\n        containers: this.state.containers + 1\n      });\n      const list = [...this.state.container, \"\"];\n      this.setState({\n        container: list\n      });\n    }\n  }\n\n  buttonSub() {\n    if (this.state.containers > 1) {\n      this.setState({\n        containers: this.state.containers - 1\n      });\n      const list = this.state.container;\n      list.pop();\n      this.setState({\n        container: list\n      });\n    }\n  }\n\n  buttonAddY() {\n    if (this.state.containersYaml < 20) {\n      this.setState({\n        containersYaml: this.state.containersYaml + 1\n      });\n      const list = [...this.state.containerYAML, \"\"];\n      this.setState({\n        containerYAML: list\n      });\n    }\n  }\n\n  buttonSubY() {\n    if (this.state.containersYaml > 1) {\n      this.setState({\n        containersYaml: this.state.containersYaml - 1\n      });\n      const list = this.state.containerYAML;\n      list.pop();\n      this.setState({\n        containerYAML: list\n      });\n    }\n  }\n\n  buttonAddV() {\n    if (this.state.volumes < 5) {\n      this.setState({\n        volumes: this.state.volumes + 1\n      });\n      const list = [...this.state.volume, \"\"];\n      this.setState({\n        volume: list\n      });\n    }\n  }\n\n  buttonSubV() {\n    if (this.state.volumes > 1) {\n      this.setState({\n        volumes: this.state.volumes - 1\n      });\n      const list = this.state.volume;\n      list.pop();\n      this.setState({\n        volume: list\n      });\n    }\n  }\n\n  containerUpdate(idx, val) {\n    const list = this.state.container;\n    list[idx] = val;\n    this.setState({\n      container: list\n    });\n  }\n\n  containerUpdateYAML(idx, val) {\n    const list = this.state.containerYAML;\n    list[idx] = val;\n    this.setState({\n      containerYAML: list\n    });\n  }\n\n  volumeUpdate(idx, val) {\n    const list = this.state.volume;\n    list[idx] = val;\n    this.setState({\n      volume: list\n    });\n  }\n\n  getOpts() {\n    var i;\n    var list = [];\n\n    for (i = 0; i < this.state.testbedData.length; ++i) {\n      list.push({\n        label: this.state.testbedData[i].name\n      });\n    }\n\n    return list;\n  }\n\n  containerInput() {\n    const divStyle = {\n      marginTop: \"10px\"\n    };\n\n    const btn_add = /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      class: \"btn-primary\",\n      style: {\n        width: \"30px\",\n        margin: \"5px\"\n      },\n      onClick: () => this.buttonAdd(),\n      children: \" + \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 26\n    }, this);\n\n    const btn_sub = /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      class: \"btn-primary\",\n      style: {\n        width: \"30px\",\n        margin: \"5px\"\n      },\n      onClick: () => this.buttonSub(),\n      children: \" - \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 26\n    }, this);\n\n    const formInp = [];\n    var i;\n\n    for (i = 0; i < this.state.containers; i++) {\n      const idx = i;\n      formInp.push( /*#__PURE__*/_jsxDEV(Form.Control, {\n        style: {\n          margin: \"5px\"\n        },\n        type: \"text\",\n        placeholder: \"Enter Dockerhub Repository Name\",\n        onChange: e => this.containerUpdate(idx, e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 26\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: divStyle,\n      children: [formInp, btn_add, btn_sub]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }, this);\n  }\n\n  containerInputYAML() {\n    const divStyle = {\n      marginTop: \"10px\"\n    };\n\n    const btn_add = /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      class: \"btn-primary\",\n      style: {\n        width: \"30px\",\n        margin: \"5px\"\n      },\n      onClick: () => this.buttonAddY(),\n      children: \" + \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 26\n    }, this);\n\n    const btn_sub = /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      class: \"btn-primary\",\n      style: {\n        width: \"30px\",\n        margin: \"5px\"\n      },\n      onClick: () => this.buttonSubY(),\n      children: \" - \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 26\n    }, this);\n\n    const formInp = [];\n    var i;\n\n    for (i = 0; i < this.state.containersYaml; i++) {\n      const idx = i;\n      formInp.push( /*#__PURE__*/_jsxDEV(Form.Control, {\n        style: {\n          margin: \"5px\"\n        },\n        as: \"textarea\",\n        rows: 5,\n        placeholder: \"Enter Container YAML\",\n        onChange: e => this.containerUpdateYAML(idx, e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 26\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: divStyle,\n      children: [formInp, btn_add, btn_sub]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 13\n    }, this);\n  }\n\n  selectTB(e) {\n    this.setState({\n      testbedSelect: e.label\n    });\n    console.log('testbedSelect Currently');\n    console.log(this.state.testbedSelect);\n    console.log(e.label);\n    console.log(e);\n    this.fetchTBRes(e.label);\n  }\n\n  updateHardware(i, checked) {\n    var newHardware = this.state.hardware;\n    newHardware[i] = checked;\n    this.setState({\n      hardware: newHardware\n    });\n  }\n\n  getHardware() {\n    var ret = [];\n\n    try {\n      if (this.state.tbHardware.length > 0) {\n        ret.push( /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Specialized Hardware\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this));\n      }\n\n      for (var i = 0; i < this.state.tbHardware.length; ++i) {\n        var name = this.state.tbHardware[i];\n        ret.push( /*#__PURE__*/_jsxDEV(Form.Check, {\n          inline: true,\n          label: name,\n          type: 'checkbox',\n          id: 'inline-${type}-3',\n          onChange: e => this.updateHardware(i, e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this));\n      }\n    } catch (exception) {\n      console.log('error rendering hardware buttons');\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: ret\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 3\n    }, this);\n  }\n\n  updateSensors(i, checked) {\n    var newSensors = this.state.sensors;\n    newSensors[i] = checked;\n    this.setState({\n      sensors: newSensors\n    });\n  }\n\n  getCPUandRAM() {\n    var ret = [];\n\n    if (this.state.tbRam > 0) {\n      ret.push( /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"RAM: \", this.state.ram, \"GB\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 12\n      }, this));\n      var max = this.state.tbRam.toString();\n      ret.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"typeinp\",\n          type: \"range\",\n          min: \"1\",\n          max: max,\n          value: \"1\",\n          value: this.state.ram,\n          onChange: e => this.setState({\n            ram: e.target.value\n          }),\n          step: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 3\n      }, this));\n    }\n\n    if (this.state.tbCpu > 0) {\n      ret.push( /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"CPUs: \", this.state.cpu]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 12\n      }, this));\n      var max = this.state.tbCpu.toString();\n      ret.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"typeinp\",\n          type: \"range\",\n          min: \"0.5\",\n          max: max,\n          defaultValue: \"0.5\",\n          value: this.state.cpu,\n          onChange: e => this.setState({\n            cpu: e.target.value\n          }),\n          step: \"0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 3\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: ret\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 3\n    }, this);\n  }\n\n  getSensors() {\n    var ret = [];\n\n    try {\n      if (this.state.tbSensors.length > 0) ret.push( /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Sensors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 13\n      }, this));\n\n      for (var i = 0; i < this.state.tbSensors.length; ++i) {\n        var name = this.state.tbSensors[i];\n        ret.push( /*#__PURE__*/_jsxDEV(Form.Check, {\n          inline: true,\n          label: name,\n          type: 'checkbox',\n          id: 'inline-${type}-3',\n          onChange: e => this.updateSensors(i, e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this));\n      }\n    } catch (exception) {\n      console.log('error rendering sensor buttons');\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: ret\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 3\n    }, this);\n  }\n\n  volumeInput() {\n    const divStyle = {\n      marginTop: \"10px\"\n    };\n\n    const btn_add = /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      class: \"btn-primary\",\n      style: {\n        width: \"30px\",\n        margin: \"5px\"\n      },\n      onClick: () => this.buttonAddV(),\n      children: \" + \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 26\n    }, this);\n\n    const btn_sub = /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      class: \"btn-primary\",\n      style: {\n        width: \"30px\",\n        margin: \"5px\"\n      },\n      onClick: () => this.buttonSubV(),\n      children: \" - \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 26\n    }, this);\n\n    const formInp = [];\n    var i;\n\n    for (i = 0; i < this.state.volumes; i++) {\n      const idx = i;\n      formInp.push( /*#__PURE__*/_jsxDEV(Form.Control, {\n        style: {\n          margin: \"5px\"\n        },\n        type: \"text\",\n        placeholder: \"Enter Volume Name\",\n        onChange: e => this.volumeUpdate(idx, e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 26\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: divStyle,\n      children: [formInp, btn_add, btn_sub]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 13\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        className: \"color-nav\",\n        expand: \"xl\",\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          href: \"#home\",\n          children: \"Pomerene Lab IoT Testbed Experiment Scheduler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n          \"aria-controls\": \"basic-navbar-nav\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          id: \"basic-navbar-nav\",\n          children: /*#__PURE__*/_jsxDEV(Nav, {\n            className: \"mr-auto\",\n            children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/\",\n              children: \"Schedule a New Experiment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/delete\",\n              children: \"View My Scheduled Experiments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Schedule a New Experiment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Testbed Node\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              options: this.getOpts(),\n              onChange: e => this.selectTB(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Start Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(SingleDatePicker, {\n              date: this.state.startdate,\n              onDateChange: startdate => this.setState({\n                startdate\n              }),\n              focused: this.state.focused,\n              onFocusChange: ({\n                focused\n              }) => this.setState({\n                focused\n              }),\n              id: \"startdate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"End Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(SingleDatePicker, {\n              date: this.state.enddate,\n              onDateChange: enddate => this.setState({\n                enddate\n              }),\n              focused: this.state.focusedEnd,\n              onFocusChange: ({\n                focused: focusedEnd\n              }) => this.setState({\n                focusedEnd\n              }),\n              id: \"enddate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Start Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TimePicker, {\n              defaultValue: moment('00:00:00', 'HH:mm:ss'),\n              size: \"large\",\n              onChange: e => this.handleChange(e, 'starttime')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"End time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TimePicker, {\n              defaultValue: moment('00:00:00', 'HH:mm:ss'),\n              size: \"large\",\n              onChange: e => this.handleChange(e, 'endtime')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \" Experiment Container(s) \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this), this.containerInput(), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \" Experiment Container(s) YAML \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 3\n            }, this), this.containerInputYAML(), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \" Shared Volumes (Optional) \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 17\n            }, this), this.volumeInput(), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"textarea\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Experiment Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                rows: 3,\n                onChange: e => this.setState({\n                  expdescription: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 589,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 17\n            }, this), this.getCPUandRAM(), this.getSensors(), this.getHardware(), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scheduler-container\",\n            children: /*#__PURE__*/_jsxDEV(Scheduler, {\n              events: this.state.calendarData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/jayson/Code/IoTLabScratchpad/IoTLabScheduler/Frontend/src/components/App.js"],"names":["React","Component","Fragment","Scheduler","DatePicker","moment","DateRangePicker","SingleDatePicker","DayPickerRangeController","TimePicker","momentPropTypes","PropTypes","Form","FormGroup","Checkbox","Col","Button","Navbar","Nav","NavDropdown","FormControl","$","Select","data","start_date","end_date","text","id","testdata","util","require","App","constructor","props","state","user","startdate","enddate","starttime","format","endtime","focusedEnd","container","containerYAML","volume","test","expdescription","calendarData","testbedData","message","status","containers","volumes","containersYaml","testbedSelect","ram","cpu","sensors","hardware","tbRam","tbCpu","tbSensors","tbHardwre","handleSubmit","bind","handleChange","fetch","time","variable","setState","e","event","preventDefault","jsondata","StartDate","endDate","description","testbed","console","log","expStart","expStartTime","expEnd","expEndTime","newExp","context","ajax","url","type","success","msg","alert","error","request","responseText","method","response","resp","key","tb","i","length","tbData","name","color","eventcolor","fetchShib","then","json","jsonData","UID","attributes","values","split","catch","fetchTBs","fetchTBRes","testbedRes","result","exception","tbHardware","ret","push","componentDidMount","buttonAdd","list","buttonSub","pop","buttonAddY","buttonSubY","buttonAddV","buttonSubV","containerUpdate","idx","val","containerUpdateYAML","volumeUpdate","getOpts","label","containerInput","divStyle","marginTop","btn_add","width","margin","btn_sub","formInp","target","value","containerInputYAML","selectTB","updateHardware","checked","newHardware","getHardware","updateSensors","newSensors","getCPUandRAM","max","toString","getSensors","volumeInput","render","focused"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport Scheduler from '../components/Scheduler';\nimport 'react-dates/initialize';\nimport DatePicker from \"react-datepicker\"\nimport moment from \"moment\"\nimport { DateRangePicker, SingleDatePicker, DayPickerRangeController } from 'react-dates';\nimport 'react-dates/lib/css/_datepicker.css';\nimport 'antd/dist/antd.css'\nimport { TimePicker } from 'antd'\nimport momentPropTypes from 'react-moment-proptypes'\nimport PropTypes from 'prop-types'\nimport {Form, FormGroup, Checkbox, Col, Button, Navbar, Nav, NavDropdown,FormControl} from \"react-bootstrap\"\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport '../App.css';\nimport $ from 'jquery';\nimport Select from 'react-select';\n\n\nconst data = [\n    { start_date:'2021-03-17 6:00', end_date:'2021-03-17 8:00', text:'Event 1', id: 1 },\n    { start_date:'2021-03-19 10:00', end_date:'2021-03-19 18:00', text:'Event 2', id: 2 }\n];\nconst testdata = [\n        { start_date: \"2021-03-19 04:04:00\", end_date: \"2021-03-19 05:05:00\", text: \"test\", id: 1 }\n];\n\nconst util = require('util')\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n                        user: 'default',\n                        startdate: null,\n                        enddate:  null,\n                        starttime: moment('00:00:00', 'HH:mm:ss').format('HH:mm:ss'),\n                        endtime:  moment('00:00:00', 'HH:mm:ss').format('HH:mm:ss'),\n                        focusedEnd: false,\n                        container: [\"\"],\n                        containerYAML: [\"\"],\n\t\t\tvolume: [\"\"],\n                        test: 'test',\n                        expdescription: '',\n                        id: 0,\n                        calendarData: [],\n\t\t\ttestbedData: [],\n                        message: 'testtest',\n\t\t\t            status: 'Submitted',\n                        containers: 1,\n                        volumes: 1,\n\t\t\tcontainersYaml: 1,\n\t\t\ttestbedSelect: 'none',\n\t\t\tram: '1',\n\t\t\tcpu: '0.5',\n\t\t\tsensors: [],\n\t\t\thardware: [],\n\t\t\ttbRam: null,\n\t\t\ttbCpu: null,\n\t\t\ttbSensors: [],\n\t\t\ttbHardwre: []\n                    };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.fetch = this.fetch.bind(this);\n    }\n    handleChange(time, variable){\n\tif(variable == 'starttime')\n\t    try {\n            \tthis.setState({starttime: time.format('HH:mm:ss')})\n            } catch(e) {this.setState({starttime: null})}\n\telse if(variable == 'endtime')\n\t    try {\n            \tthis.setState({endtime: time.format('HH:mm:ss')})\n    \t    } catch(e) {this.setState({endtime: null})}\n    }\n    handleSubmit(event){\n        event.preventDefault();\n        var jsondata = {user: this.state.user,\n                    container: this.state.container,\n\t\t    containerYAML: this.state.containerYAML,\n                    volume: this.state.volume,\n                    StartDate: this.state.startdate.format('YYYY-MM-DD'),\n                    endDate: this.state.enddate.format('YYYY-MM-DD'),\n                    starttime: this.state.starttime,\n                    endtime: this.state.endtime,\n                    description: this.state.expdescription,\n                    testbed: this.state.testbedSelect,\n\t\t    ram: this.state.ram,\n\t\t    cpu: this.state.cpu,\n\t\t    sensors: this.state.sensors,\n\t\t    hardware: this.state.hardware,\n\t\t    status: this.state.status\n                }\n\n        console.log(jsondata)\n\n        var expStart = this.state.startdate.format('YYYY-MM-DD')\n        var expStartTime = this.state.starttime\n        var expEnd = this.state.enddate.format('YYYY-MM-DD')\n        var expEndTime = this.state.endtime\n        var text = this.state.container + '\\n' + this.state.expdescription\n        var newExp = {start_date: expStart +' '+ expStartTime, end_date: expEnd+' '+expEndTime,text: text, id: this.state.id}\n\n        console.log(jsondata.endDate)\n\n        //this.setState({calendarData: this.state.calendarData.concat(newExp)})\n        //this.setState({id: this.state.id+1})\n        var context = this;\n        $.ajax({\n            url: 'https://iot.lab.tdai.osu.edu:3001/post',\n            type: 'POST',\n            data: jsondata,\n            success: function(msg) {\n                    var text = 'Experiment Successfully Scheduled from '+context.state.startdate.format('YYYY-MM-DD') + ' ' + context.state.starttime + ' to '+ context.state.enddate.format('YYYY-MM-DD') + ' ' +context.state.endtime;\n                    alert(text)\n                    console.log(msg);\n            },\n            error: function(request, status, error){\n                    alert(request.responseText);\n            }\n        });\n        this.fetch()\n    }\n    \n   fetch() {\n        var context = this;\n\n        $.ajax({\n            url: 'https://iot.lab.tdai.osu.edu:3001/api',\n            method: 'GET',\n            data: data,\n            success: function(response) {\n\t\tvar resp = response.message\n\t\tconsole.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!')\n\t\tfor (var key in response.message){\n\t\t\tconsole.log(context.state.testbedData)\n\t\t\t//console.log(context.state.testbedData.length)\n\t\t\tvar tb = response.message[key].testbed\n\t\t\tfor(var i=0; i< context.state.testbedData.length ;++i){\n\t\t\t\tvar tbData = context.state.testbedData[i]\n\t\t\t\tif(tbData.name == response.message[key].testbed){\n\t\t\t\t\tconsole.log('hit')\n\t\t\t\t\tresponse.message[key].color = '#'+tbData.eventcolor\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\tconsole.log(response.message[key])\n\t\tcontext.setState({\n                    calendarData: response.message\n                });\n            }\n        });\n    }\n    fetchShib() {\n\tfetch('https://iot.lab.tdai.osu.edu/Shibboleth.sso/Session')\n  \t\t.then(response => response.json())\n  \t\t.then((jsonData) => {\n    \t\t// jsonData is parsed json object received from url\n    \t     \t\tconsole.log(jsonData)\n\t\t\tconsole.log('$$$$$$$$$$$$$$$$$$$')\n                        const UID = jsonData.attributes[4].values[0].split('@')[0]\n\t\t\tconsole.log(jsonData.attributes[4].values[0].split('@')[0])\n\t\t\tconsole.log(UID)\n\t\t\tthis.setState({ user: UID})\n\t\t\tconsole.log('User')\n\t\t\tconsole.log(this.state.user)\n\t\t\tconsole.log('$$$$$$$$$$$$$$$$$$$')\n   \t\t})\n               .catch((error) => {\n                 // handle your errors here\n                 console.error(error)\n               })\n    }\n    fetchTBs() {\n\tconsole.log('###################')\n\tvar context = this\n        $.ajax({\n            url: 'https://iot.lab.tdai.osu.edu:3001/testbeds',\n            method: 'GET',\n            data: data,\n            success: function(response) {\n                context.setState({\n\t\t\ttestbedData: response.message\n                });\n\t\tconsole.log('TB Response:')\n\t\tconsole.log(response.message)\n\t\tcontext.fetch()\n            }\n        });\n    }\n    fetchTBRes(name) {\n    \tconsole.log('FETCH TB Results')\n\tvar context = this\n        $.ajax({\n            url: 'https://iot.lab.tdai.osu.edu:3001/testbedres?name='+name,\n            method: 'GET',\n            data: data,\n            success: function(response) {\n                context.setState({\n                    testbedRes: response.message\n                });\n\t\tconsole.log(context.state.testbedSelect)\n\t\tconsole.log('TB Response:')\n\t\tconsole.log(response.message)\n\t\tconsole.log(response.message[0])\n\n\t\tcontext.setState({ram: 0})\n\t\tcontext.setState({cpu: 0})\n\n\t\tcontext.setState({tbRam: response.message[0]})\n\t\tcontext.setState({tbCpu: response.message[1]})\n\t\tvar sensors = response.message[2]\n\n\t\tif(sensors == 'None')\n\t\t\tcontext.setState({tbSensors: null})\n\t\telse {\n\t\t\ttry{\n\t\t\t\tconst result = response.message[2].split('+')\n\t\t\t\tcontext.setState({tbSensors: result})\n\t\t\t\tconsole.log(result)\n\t\t\t}catch(exception) {\n\t\t\t\tconsole.log('Sensor Parsing Error')\t\t\n\t\t\t}\n\t\t}\n\t\tvar hardware = response.message[3]\n\t\tif(hardware == 'None')\n\t\t\tcontext.setState({tbHardware: null})\n\t\telse {\n\t\t\ttry{\n\t\t\t\tconst result = response.message[3].split('+')\n\t\t\t\tcontext.setState({tbHardware: result})\n\t\t\t\tconsole.log(result)\n\t\t\t} catch(exception) {\n\t\t\t\tconsole.log('Hardware Parsing Error')\n\t\t\t} \n\t\t}\n\t\tvar ret = []\n\t\tif(context.state.tbSensors != null) {\n\t\t\tfor(var i=0; i<context.state.tbSensors.length; i++){\n\t\t\t\tret.push(false)\n\t\t\t}\n\t\t\tcontext.setState({sensors: ret})\n\t\t}\n\t\tret = []\n\t\tif(context.state.tbHardware != null) {\n\t\t\tfor(var i=0; i<context.state.tbHardware.length; i++){\n\t\t\t\tret.push(false)\n\t\t\t}\n\t\t\tcontext.setState({hardware: ret})\n\t\t}\n            }\n        });\n\n    }\n\n    componentDidMount(){\n        console.log('Mounting!')\n        this.fetchTBs();\n\tthis.fetch();\n\tthis.fetchShib();\n\tthis.fetchTBRes();\n    }\n    buttonAdd() {\n        if(this.state.containers < 20) {\n            this.setState({ containers: this.state.containers+1 })\n            const list = [...this.state.container, \"\"]\n            this.setState({ container: list})\n        }\n    }\n    buttonSub() {\n        if(this.state.containers > 1) {\n            this.setState( {containers: this.state.containers-1})\n            const list = this.state.container\n            list.pop()\n            this.setState({ container: list })\n        }\n    }\n    buttonAddY() {\n        if(this.state.containersYaml < 20) {\n            this.setState({ containersYaml: this.state.containersYaml+1 })\n            const list = [...this.state.containerYAML, \"\"]\n            this.setState({ containerYAML: list})\n        }\n    }\n    buttonSubY() {\n        if(this.state.containersYaml > 1) {\n            this.setState( {containersYaml: this.state.containersYaml-1})\n            const list = this.state.containerYAML\n            list.pop()\n            this.setState({ containerYAML: list })\n        }\n    }\n\n    buttonAddV() {\n        if(this.state.volumes < 5) {\n            this.setState({ volumes: this.state.volumes+1 })\n            const list = [...this.state.volume, \"\"]\n            this.setState({ volume: list})\n        }\n    }\n    buttonSubV() {\n        if(this.state.volumes > 1) {\n            this.setState( {volumes: this.state.volumes-1})\n            const list = this.state.volume\n            list.pop()\n            this.setState({ volume: list })\n        }\n    }\n\n    containerUpdate(idx, val){\n        const list = this.state.container\n        list[idx] = val\n        this.setState({ container: list })\n    }\n    containerUpdateYAML(idx, val){\n        const list = this.state.containerYAML\n        list[idx] = val\n        this.setState({ containerYAML: list })\n    }\n\n    volumeUpdate(idx, val){\n        const list = this.state.volume\n        list[idx] = val\n        this.setState( {volume: list} )\n    }\n    \n    getOpts(){\n\tvar i\n\tvar list = []\n\tfor (i = 0; i < this.state.testbedData.length; ++i) {\n\t\tlist.push({label: this.state.testbedData[i].name})\n\t}\n        return list;\n    }   \n \n    containerInput() {\n        const divStyle = {marginTop: \"10px\"}\n        const btn_add =  <button type=\"button\" class=\"btn-primary\" style={{width: \"30px\", margin: \"5px\"}} onClick={ () => this.buttonAdd()}> + </button>\n        const btn_sub =  <button type=\"button\" class=\"btn-primary\" style={{width: \"30px\", margin: \"5px\"}} onClick={ () => this.buttonSub()}> - </button>\n\n        const formInp = []\n        var i;\n        for (i = 0; i< this.state.containers; i++){\n            const idx = i\n            formInp.push(<Form.Control style={{margin: \"5px\"}} type=\"text\" placeholder=\"Enter Dockerhub Repository Name\" onChange={e => this.containerUpdate(idx, e.target.value)}/>\n            )\n        }\n\t\n        return (\n            <div style={divStyle}>\n            {formInp}\n            {btn_add}\n            {btn_sub}\n\t    </div>\n        )\n    }\n   \n  containerInputYAML() {\n        const divStyle = {marginTop: \"10px\"}\n        const btn_add =  <button type=\"button\" class=\"btn-primary\" style={{width: \"30px\", margin: \"5px\"}} onClick={ () => this.buttonAddY()}> + </button>\n        const btn_sub =  <button type=\"button\" class=\"btn-primary\" style={{width: \"30px\", margin: \"5px\"}} onClick={ () => this.buttonSubY()}> - </button>\n\n        const formInp = []\n        var i;\n        for (i = 0; i< this.state.containersYaml; i++){\n            const idx = i\n            formInp.push(<Form.Control style={{margin: \"5px\"}} as=\"textarea\" rows={5} placeholder=\"Enter Container YAML\" onChange={e => this.containerUpdateYAML(idx, e.target.value)}/>\n            )\n        }\n\t\n        return (\n            <div style={divStyle}>\n            {formInp}\n            {btn_add}\n            {btn_sub}\n\t    </div>\n        )\n    }\n  \n    selectTB(e){\n\tthis.setState({ testbedSelect: e.label });\n\tconsole.log('testbedSelect Currently');\n        console.log(this.state.testbedSelect);\n\tconsole.log(e.label);\n\tconsole.log(e);\n\tthis.fetchTBRes(e.label);\n    }\n    \n    updateHardware(i, checked) {\n\tvar newHardware = this.state.hardware\n\tnewHardware[i] = checked \n\tthis.setState({hardware: newHardware})\t\t\n    } \n\n    getHardware(){\n\n\tvar ret = []\n\ttry{ \n\t\tif(this.state.tbHardware.length > 0) {\n\t\t\tret.push(<p>Specialized Hardware</p>)\n\t\t}\n\n\t\tfor(var i = 0; i<this.state.tbHardware.length; ++i){\n\t\t\tvar name = this.state.tbHardware[i]\n\t\t\tret.push(<Form.Check inline label= {name} type={'checkbox'} id={'inline-${type}-3'} onChange={e => this.updateHardware(i, e.target.checked)}/>)\n\t\t}\n\t} catch(exception) {\n\t\tconsole.log('error rendering hardware buttons')\n\t}\n\t\n\treturn (\n\t\t<div>\n\t\t{ret}\n\t\t</div>\n     \t)\n    } \n\n    updateSensors(i, checked) {\n\tvar newSensors = this.state.sensors\n\tnewSensors[i] = checked \n\tthis.setState({sensors: newSensors})\t\t\n    } \n\n    getCPUandRAM() {\n\n\tvar ret = []\t\n\n\tif(this.state.tbRam > 0){\n\t\tret.push(<p>RAM: {this.state.ram}GB</p>)\n\t\tvar max = this.state.tbRam.toString();\n\t\tret.push(\n\t\t<div>\n\t\t<input \n      \t\tid=\"typeinp\" \n      \t\ttype=\"range\" \n      \t\tmin=\"1\" max={max}\n\t\tvalue={\"1\"}\n      \t\tvalue={this.state.ram} \n      \t\tonChange={e => this.setState({ram: e.target.value})}\n      \t\tstep=\"1\"/>\n\t\t</div>\n\t\t)\n\t}\n\n\tif(this.state.tbCpu > 0){\n\t\tret.push(<p>CPUs: {this.state.cpu}</p>)\n\t\tvar max = this.state.tbCpu.toString();\n\t\tret.push(\n\t\t<div>\n\t\t<input \n      \t\tid=\"typeinp\" \n      \t\ttype=\"range\" \n      \t\tmin=\"0.5\" max={max}\n\t\tdefaultValue={\"0.5\"}\n      \t\tvalue={this.state.cpu} \n      \t\tonChange={e => this.setState({cpu: e.target.value})}\n      \t\tstep=\"0.5\"/>\n\t\t</div>\n\t\t)\n\t}\n\n\n\n\treturn (\n\t\t<div>\n\t\t{ret}\n\t\t</div>\t\t\n\t)\t\t\n    }\n\n    getSensors(){\n\n\tvar ret = []\n\ttry{ \n\t\tif(this.state.tbSensors.length > 0)\n\t\t\tret.push(<p>Sensors</p>)\n\n\t\tfor(var i = 0; i<this.state.tbSensors.length; ++i){\n\t\t\tvar name = this.state.tbSensors[i]\n\t\t\tret.push(<Form.Check inline label= {name} type={'checkbox'} id={'inline-${type}-3'} onChange={e => this.updateSensors(i, e.target.checked)}/>)\n\t\t}\n\t} catch(exception) {\n\t\tconsole.log('error rendering sensor buttons')\n\t}\n\t\n\treturn (\n\t\t<div>\n\t\t{ret}\n\t\t</div>\n     \t)\n    } \n    volumeInput(){\n        const divStyle = {marginTop: \"10px\"}\n        const btn_add =  <button type=\"button\" class=\"btn-primary\" style={{width: \"30px\", margin: \"5px\"}} onClick={ () => this.buttonAddV()}> + </button>\n        const btn_sub =  <button type=\"button\" class=\"btn-primary\" style={{width: \"30px\", margin: \"5px\"}} onClick={ () => this.buttonSubV()}> - </button>\n\n        const formInp = []\n        var i;\n        for (i = 0; i< this.state.volumes; i++){\n            const idx = i\n            formInp.push(<Form.Control style={{margin: \"5px\"}} type=\"text\" placeholder=\"Enter Volume Name\" onChange={e => this.volumeUpdate(idx, e.target.value)}/>\n            )\n        }\n\n        return (\n            <div style={divStyle}>\n            {formInp}\n            {btn_add}\n            {btn_sub}\n            </div>\n        )\n\n    }\n   \n    render() {\n\treturn (\n            <div>\n                <Navbar className=\"color-nav\" expand='xl'>\n                  <Navbar.Brand href=\"#home\">Pomerene Lab IoT Testbed Experiment Scheduler</Navbar.Brand>\n                  <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                  <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"mr-auto\">\n                      <Nav.Link href=\"/\">Schedule a New Experiment</Nav.Link>\n                      <Nav.Link href=\"/delete\">View My Scheduled Experiments</Nav.Link>\n                    </Nav>\n                 </Navbar.Collapse>\n                </Navbar>\n                <div class=\"container\">\n                <div>\n                    <h1>Schedule a New Experiment</h1>\n                </div>\n                <br/>\n\n\t\t<div class=\"row\">\n                <div class=\"col-md\">\n\t\t\t<p>Testbed Node</p>\n\t\t\t<Select options={ this.getOpts() } onChange={e => this.selectTB(e)} />\n\t\t\t<br/>\n\n\t\t</div>\n                </div>\n\n                <div class=\"row\">\n                <div class=\"col-md\">\n                    <p>Start Date</p>\n                    <SingleDatePicker\n                    date={this.state.startdate}\n                    onDateChange={(startdate) => this.setState( {startdate})}\n                    focused={this.state.focused}\n                    onFocusChange={({focused}) => this.setState({focused})}\n                    id=\"startdate\"/>\n                </div>\n                <div class=\"col-md\">\n                    <p>End Date</p>\n                    <SingleDatePicker\n                    date={this.state.enddate}\n                    onDateChange={(enddate) => this.setState( {enddate})}\n                    focused={this.state.focusedEnd}\n                    onFocusChange={({focused: focusedEnd}) => this.setState({focusedEnd})}\n                    id=\"enddate\"/>\n                </div>\n                </div>\n\n                <div class=\"row\">\n                <div class=\"col-md\">\n                <p>Start Time</p>\n                <TimePicker defaultValue={moment('00:00:00', 'HH:mm:ss')} size=\"large\" onChange={(e) => this.handleChange(e,'starttime')}/>\n                </div>\n                <div class=\"col-md\">\n                <p>End time</p>\n                <TimePicker defaultValue={moment('00:00:00', 'HH:mm:ss')} size=\"large\" onChange={(e) => this.handleChange(e,'endtime')}/>\n                </div>\n                </div>\n                <div>\n\n                <Form onSubmit={this.handleSubmit}>\n                <p> Experiment Container(s) </p>\n\t\t{this.containerInput()}\n\n\t\t<p> Experiment Container(s) YAML </p>\n\t\t{this.containerInputYAML()}\n\n                <p> Shared Volumes (Optional) </p>\n\t\t{this.volumeInput()}\n\t\t\n                <Form.Group controlId=\"textarea\">\n\n                <Form.Label>Experiment Description</Form.Label>\n                <Form.Control as=\"textarea\" rows={3} onChange={e => this.setState({ expdescription: e.target.value })}/>\n                </Form.Group>\n\n\t\t{ this.getCPUandRAM() }\n\n\t\t{ this.getSensors() }\n\n\t\t{ this.getHardware() }\n\n                <Button variant=\"primary\" type=\"submit\">\n                    Submit\n                </Button>\n                </Form>\n                </div>\n\n                <div class=\"row\">\n                <div className='scheduler-container'>\n                    <Scheduler events={this.state.calendarData}/>\n                </div>\n                </div>\n                </div>\n            </div>\n        );\n    }\n }\n export default App;\n"]},"metadata":{},"sourceType":"module"}