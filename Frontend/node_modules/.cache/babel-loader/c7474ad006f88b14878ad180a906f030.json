{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _util = require('./util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _Const = require('./Const');\n\nvar _Const2 = _interopRequireDefault(_Const);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/* eslint block-scoped-var: 0 */\n\n/* eslint vars-on-top: 0 */\n\n/* eslint no-var: 0 */\n\n/* eslint no-unused-vars: 0 */\n\n\nif (_util2.default.canUseDOM()) {\n  var filesaver = require('./filesaver');\n\n  var saveAs = filesaver.saveAs;\n}\n\nfunction toString(data, keys, separator, excludeCSVHeader) {\n  var dataString = '';\n  if (data.length === 0) return dataString;\n  var headCells = [];\n  var rowCount = 0;\n  keys.forEach(function (key) {\n    if (key.row > rowCount) {\n      rowCount = key.row;\n    } // rowCount += (key.rowSpan + key.colSpan - 1);\n\n\n    for (var index = 0; index < key.colSpan; index++) {\n      headCells.push(key);\n    }\n  });\n  var firstRow = excludeCSVHeader ? 1 : 0;\n\n  var _loop = function _loop(i) {\n    dataString += headCells.map(function (x) {\n      if (x.row + (x.rowSpan - 1) === i) {\n        return '\"' + x.header + '\"';\n      }\n\n      if (x.row === i && x.rowSpan > 1) {\n        return '';\n      }\n    }).filter(function (key) {\n      return typeof key !== 'undefined';\n    }).join(separator) + '\\n';\n  };\n\n  for (var i = firstRow; i <= rowCount; i++) {\n    _loop(i);\n  }\n\n  keys = keys.filter(function (key) {\n    return key.field !== undefined;\n  });\n  data.map(function (row) {\n    keys.map(function (col, i) {\n      var field = col.field,\n          format = col.format,\n          extraData = col.extraData,\n          type = col.type;\n      var value = typeof format !== 'undefined' ? format(row[field], row, extraData) : row[field];\n      value = type === _Const2.default.CSV_NUMBER_TYPE ? Number(value) : '\"' + value + '\"';\n      var cell = typeof value !== 'undefined' ? value : '';\n      dataString += cell;\n      if (i + 1 < keys.length) dataString += separator;\n    });\n    dataString += '\\n';\n  });\n  return dataString;\n}\n\nvar exportCSV = function exportCSV(data, keys, filename, separator, noAutoBOM, excludeCSVHeader) {\n  var dataString = toString(data, keys, separator, excludeCSVHeader);\n\n  if (typeof window !== 'undefined') {\n    noAutoBOM = noAutoBOM === undefined ? true : noAutoBOM;\n    saveAs(new Blob(['\\uFEFF', dataString], {\n      type: 'text/plain;charset=utf-8'\n    }), filename, noAutoBOM);\n  }\n};\n\nvar _default = exportCSV;\nexports.default = _default;\n;\n\nvar _temp = function () {\n  if (typeof __REACT_HOT_LOADER__ === 'undefined') {\n    return;\n  }\n\n  __REACT_HOT_LOADER__.register(saveAs, 'saveAs', '/Users/allen/Node/react-bootstrap-table-new/react-bootstrap-table/src/csv_export_util.js');\n\n  __REACT_HOT_LOADER__.register(toString, 'toString', '/Users/allen/Node/react-bootstrap-table-new/react-bootstrap-table/src/csv_export_util.js');\n\n  __REACT_HOT_LOADER__.register(exportCSV, 'exportCSV', '/Users/allen/Node/react-bootstrap-table-new/react-bootstrap-table/src/csv_export_util.js');\n\n  __REACT_HOT_LOADER__.register(_default, 'default', '/Users/allen/Node/react-bootstrap-table-new/react-bootstrap-table/src/csv_export_util.js');\n}();\n\n;","map":{"version":3,"sources":["/home/boubin_lab/Github/PROWESS/Frontend/node_modules/react-bootstrap-table/lib/csv_export_util.js"],"names":["Object","defineProperty","exports","value","_util","require","_util2","_interopRequireDefault","_Const","_Const2","obj","__esModule","default","canUseDOM","filesaver","saveAs","toString","data","keys","separator","excludeCSVHeader","dataString","length","headCells","rowCount","forEach","key","row","index","colSpan","push","firstRow","_loop","i","map","x","rowSpan","header","filter","join","field","undefined","col","format","extraData","type","CSV_NUMBER_TYPE","Number","cell","exportCSV","filename","noAutoBOM","window","Blob","_default","_temp","__REACT_HOT_LOADER__","register"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _util = require('./util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _Const = require('./Const');\n\nvar _Const2 = _interopRequireDefault(_Const);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint block-scoped-var: 0 */\n/* eslint vars-on-top: 0 */\n/* eslint no-var: 0 */\n/* eslint no-unused-vars: 0 */\nif (_util2.default.canUseDOM()) {\n  var filesaver = require('./filesaver');\n  var saveAs = filesaver.saveAs;\n}\n\nfunction toString(data, keys, separator, excludeCSVHeader) {\n  var dataString = '';\n  if (data.length === 0) return dataString;\n\n  var headCells = [];\n  var rowCount = 0;\n  keys.forEach(function (key) {\n    if (key.row > rowCount) {\n      rowCount = key.row;\n    }\n    // rowCount += (key.rowSpan + key.colSpan - 1);\n    for (var index = 0; index < key.colSpan; index++) {\n      headCells.push(key);\n    }\n  });\n\n  var firstRow = excludeCSVHeader ? 1 : 0;\n\n  var _loop = function _loop(i) {\n    dataString += headCells.map(function (x) {\n      if (x.row + (x.rowSpan - 1) === i) {\n        return '\"' + x.header + '\"';\n      }\n      if (x.row === i && x.rowSpan > 1) {\n        return '';\n      }\n    }).filter(function (key) {\n      return typeof key !== 'undefined';\n    }).join(separator) + '\\n';\n  };\n\n  for (var i = firstRow; i <= rowCount; i++) {\n    _loop(i);\n  }\n\n  keys = keys.filter(function (key) {\n    return key.field !== undefined;\n  });\n\n  data.map(function (row) {\n    keys.map(function (col, i) {\n      var field = col.field,\n          format = col.format,\n          extraData = col.extraData,\n          type = col.type;\n\n      var value = typeof format !== 'undefined' ? format(row[field], row, extraData) : row[field];\n      value = type === _Const2.default.CSV_NUMBER_TYPE ? Number(value) : '\"' + value + '\"';\n      var cell = typeof value !== 'undefined' ? value : '';\n      dataString += cell;\n      if (i + 1 < keys.length) dataString += separator;\n    });\n\n    dataString += '\\n';\n  });\n\n  return dataString;\n}\n\nvar exportCSV = function exportCSV(data, keys, filename, separator, noAutoBOM, excludeCSVHeader) {\n  var dataString = toString(data, keys, separator, excludeCSVHeader);\n  if (typeof window !== 'undefined') {\n    noAutoBOM = noAutoBOM === undefined ? true : noAutoBOM;\n    saveAs(new Blob(['\\uFEFF', dataString], { type: 'text/plain;charset=utf-8' }), filename, noAutoBOM);\n  }\n};\n\nvar _default = exportCSV;\nexports.default = _default;\n;\n\nvar _temp = function () {\n  if (typeof __REACT_HOT_LOADER__ === 'undefined') {\n    return;\n  }\n\n  __REACT_HOT_LOADER__.register(saveAs, 'saveAs', '/Users/allen/Node/react-bootstrap-table-new/react-bootstrap-table/src/csv_export_util.js');\n\n  __REACT_HOT_LOADER__.register(toString, 'toString', '/Users/allen/Node/react-bootstrap-table-new/react-bootstrap-table/src/csv_export_util.js');\n\n  __REACT_HOT_LOADER__.register(exportCSV, 'exportCSV', '/Users/allen/Node/react-bootstrap-table-new/react-bootstrap-table/src/csv_export_util.js');\n\n  __REACT_HOT_LOADER__.register(_default, 'default', '/Users/allen/Node/react-bootstrap-table-new/react-bootstrap-table/src/csv_export_util.js');\n}();\n\n;"]},"metadata":{},"sourceType":"script"}